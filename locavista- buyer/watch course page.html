<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Locavista Course</title>
  <link rel="stylesheet" href="style/watch courses page.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./style/all.min.css">
    <link rel="stylesheet" href="./style/nav.css">
    <link rel="stylesheet" href="style/nav buyer.css">
    <link rel="stylesheet" href="style/footer.css">
  <style>
    @font-face {
      font-family: 'Argue DEMO';
      src: url('./fonts/Argue-DEMO.otf') format('truetype');
    }
  </style>
</head>
<body>
   
 <!-- Start Nav -->
    <nav>
        <div class="logo">
            <img src="img/logo.png" alt="Logo Image">
        </div>
        <div class="nav-menu">
            <ul>
                <li><a href="buyer-home.html">Home</a></li>
                <li><a href="products-Page.html">Products</a></li>
                <li><a href="all courses.html">Courses</a></li>
                <li><a href="contact us.html">Contact Us</a></li>
            </ul>
        </div>
        <div class="nav-content">
            <div class="search-nav">
                <input type="search" placeholder="What are you looking for?">
                <i class="fa-solid fa-magnifying-glass"></i>
            </div>
            <div class="nav-icons">
                <ul>
                    <li><a href="wish-list.html"><i class="fa-regular fa-heart"></i></a></li>
                    <li><a href="cart.html"><i class="fa-solid fa-cart-shopping"></i></a></li>
                    <li class="dropdown">
                      <a href="#"><i class="fa-regular fa-user"></i></a>
                      <ul class="dropdown-menu">
                          <li><a href="orders and requests buyer.html"> <i class="fa-solid fa-bag-shopping"></i> My Orders</a></li>
                          <li><a href="my courses page.html"> <i class="fa-solid fa-graduation-cap"></i> My Courses</a></li>
                          <li><a href="welcome-page.html" class="logout"> <i class="fa-solid fa-right-from-bracket"></i> Logout</a></li>
                      </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- End Nav -->

  <!-- Course Section -->
  <div class="course-section">
    <div class="course-details">
      <h1>Course Name</h1>
      <p><strong>Course Creator:</strong> Seller’s name</p>
      <p><strong>Course Duration:</strong> 1h</p>
    </div>
    <button class="go-to-courses">Go to My Courses</button>
    <div class="video-player">
      <div class="video-frame">
        <div class="vector" data-video="https://cdn.example.com/lesson1.mp4">
  <div class="play-overlay">
    <i class="fa-solid fa-play"></i>
  </div>
</div>


        <div class="player-controllers">
          <div class="info">
            <div class="titles-episodes">
              <div class="title">Cold Little Heart</div>
              <div class="info-text" style="display: none;">Info Text here</div>
            </div>
            <div class="time">47:39 / 100:00</div>
          </div>
          <div class="progress-bar">
            <div class="progress"></div>
            <div class="fulltime"></div>
          </div>
          <div class="controllers">
  <div class="left-side">
    <button class="control-btn"><i class="fa-solid fa-backward"></i></button>
    <button class="control-btn"><i class="fa-solid fa-play"></i></button>
    <button class="control-btn"><i class="fa-solid fa-forward"></i></button>
  </div>
  <div class="right-side">
    <button class="control-btn"><i class="fa-solid fa-volume-high"></i></button>
    <button class="control-btn"><i class="fa-solid fa-expand"></i></button>
    <button class="control-btn"><i class="fa-solid fa-gear"></i></button>
  </div>
</div>

        </div>
      </div>
    </div>
  </div>

   <footer>
        <div class="footer-container">
            <!-- Logo + tagline -->
            <div class="footer-logo">
                <img src="img/logo-footer.png" alt="LocaVista Logo">
                <p>The home for authentic Egyptian handmade crafts</p>
            </div>

            <!-- Links -->
            <div class="footer-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="buyer-home.html">Home</a></li>
                    <li><a href="contact us.html">Contact us</a></li>
                    <li><a href="landing.html#questions">FAQ</a></li>
                </ul>
            </div>

            <!-- Legal -->
            <div class="footer-links">
                <h3>Legal</h3>
                <ul>
                    <li><a href="#">Terms of Service</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Cookie Policy</a></li>
                </ul>
            </div>

            <!-- Social -->
            <div class="social">
                <h3>Social Media</h3>
                <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-tiktok"></i></a>
            </div>
        </div>

        <div class="footer-bottom">
            © 2025 Locavista. All rights reserved.
        </div>
    </footer>
      © 2025 Locavista. All rights reserved.
    </div>
  </footer>
  <script>
(function(){
  const container = document.querySelector('.vector') || document.querySelector('.video-host');
  if(!container) return;

  function isYouTube(url){
    return /(?:youtube\.com|youtu\.be)/i.test(url);
  }

  function extractYouTubeID(url){
    
    const r1 = url.match(/(?:v=|\/embed\/|youtu\.be\/)([A-Za-z0-9_-]{11})/);
    return r1 ? r1[1] : null;
  }

  function createIframe(embedUrl){
    const iframe = document.createElement('iframe');
    iframe.src = embedUrl;
    iframe.width = '100%';
    iframe.height = '100%';
    iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
    iframe.allowFullscreen = true;
    iframe.frameBorder = '0';
    return iframe;
  }

  function fmtTime(s){
    if(!isFinite(s)) return '00:00';
    const m = Math.floor(s/60);
    const sec = Math.floor(s%60);
    return `${m}:${String(sec).padStart(2,'0')}`;
  }

  function createVideoEl(src){
    const video = document.createElement('video');
    video.id = 'lessonVideo';
    video.controls = true;
    video.preload = 'metadata';
    video.playsInline = true;
    video.style.width = '100%';
    video.style.height = '100%';
    video.style.objectFit = 'cover';

    const source = document.createElement('source');
    source.src = src;
    if(src.match(/\.mp4($|\?)/i)) source.type = 'video/mp4';
    else if(src.match(/\.webm($|\?)/i)) source.type = 'video/webm';
    else if(src.match(/\.m3u8($|\?)/i)) source.type = 'application/x-mpegURL';
    video.appendChild(source);
    video.innerText = 'متصفحك لا يدعم تشغيل الفيديو.';

    const timeEl = document.querySelector('.time');
    const progressEl = document.querySelector('.progress');

    video.addEventListener('loadedmetadata', ()=> {
      if(timeEl) timeEl.textContent = `${fmtTime(0)} / ${fmtTime(video.duration)}`;
    });

    video.addEventListener('timeupdate', ()=> {
      if(timeEl) timeEl.textContent = `${fmtTime(video.currentTime)} / ${fmtTime(video.duration)}`;
      if(progressEl && video.duration) progressEl.style.width = ((video.currentTime / video.duration) * 100) + '%';
    });

    return video;
  }

  function setVideo(url){
    container.innerHTML = ''; 
    if(!url) return;
    url = url.trim();
    if(isYouTube(url)){
      const id = extractYouTubeID(url);
      const embed = id ? `https://www.youtube-nocookie.com/embed/${id}?rel=0&playsinline=1` : url;
      container.appendChild(createIframe(embed));
    } else {
      
      container.appendChild(createVideoEl(url));
    }
  }

  
  const initUrl = container.dataset.video;
  if(initUrl) setVideo(initUrl);


  window.setLessonVideo = setVideo;

})();
document.addEventListener("click", function(e){
  const overlay = e.target.closest(".play-overlay");
  if(overlay){
    overlay.style.display = "none";
    const video = document.querySelector(".vector video");
    if(video) video.play();
  }
});

</script>

</body>
</html>